webpackJsonp([1],Array(91).concat([function(e,t,a){"use strict";var r=a(62),i=a.n(r),o=a(34),s=a.n(o);s.a.defaults.baseURL="http://leng45.eicp.net:10000",s.a.defaults.headers={"Content-Type":"application/json;charset=utf-8","Access-Control-Allow-Methods":"GET, POST,PUT,DELETE","Access-Control-Allow-Origin":"*"},s.a.interceptors.response.use(function(e){return e},function(e){return i.a.reject(e)}),t.a=s.a},function(e,t,a){"use strict";function r(e){var t=new Date(e),a=t.getFullYear(),r=t.getMonth()+1,i=t.getDate(),o=t.getHours(),s=t.getMinutes(),n=t.getSeconds();return r<10&&(r="0"+r),i<10&&(i="0"+i),o<10&&(o="0"+o),s<10&&(s="0"+s),n<10&&(n="0"+n),a+"-"+r+"-"+i}t.a=r},function(e,t,a){"use strict";var r=a(4),i=a(277),o=a(258),s=a.n(o),n=a(257),l=a.n(n),d=a(256),c=a.n(d),p=a(254),u=a.n(p),m=a(246),v=a.n(m),f=a(249),h=a.n(f),g=a(244),b=a.n(g),_=a(247),y=a.n(_),x=a(250),w=a.n(x),N=a(253),S=a.n(N),F=a(251),k=a.n(F),z=a(248),C=a.n(z),$=a(245),D=a.n($),O=a(252),T=a.n(O);r.default.use(i.a),t.a=new i.a({mode:"hash",linkActiveClass:"active",routes:[{path:"/",redirect:"login"},{path:"/login",component:s.a,name:"login"},{path:"/index",component:l.a,children:[{path:"/",name:"index",redirect:"/home"},{path:"/home",component:c.a,name:"home"},{path:"/index/workorder",component:u.a,name:"workorder"},{path:"/index/devicebind",component:v.a,name:"devicebind"},{path:"/index/deviceunbind",component:h.a,name:"deviceunbind"},{path:"/index/datacompare",component:b.a,name:"datacompare"},{path:"/index/devicelog",component:y.a,name:"devicelog"},{path:"/index/deviceupdate",component:w.a,name:"deviceupdate"},{path:"/index/user",component:S.a,name:"user"},{path:"/index/devicetype",component:C.a,name:"devicetype"},{path:"/index/device",component:D.a,name:"device"},{path:"/index/orgmanag",component:k.a,name:"orgmanag"},{path:"/index/shieldmgr",component:T.a,name:"shieldmgr"}]}]})},function(e,t,a){"use strict";var r=a(279),i=a(4),o=a(34),s=(a.n(o),a(157));i.default.use(r.a);var n=new r.a.Store({modules:{indexstore:s.a}});t.a=n},,function(e,t){},function(e,t){},function(e,t,a){function r(e){a(235)}var i=a(1)(a(139),a(274),r,null,null);e.exports=i.exports},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{}},created:function(){var e=sessionStorage.getItem("user")?JSON.parse(sessionStorage.getItem("user")):{},t=this;try{var a={staffName:e.staffNumber,staffNumber:e.staffPwd}}catch(e){this.$router.push("/login")}this.$http.post("/staff/verfyLogin",a).then(function(e){e.data?t.$router.push("/index"):t.$router.push("/login")})},methods:{}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(5),i=a.n(r),o=a(64),s=a.n(o);t.default={data:function(){return{sdada:!1,tabindex:"",multiple:!0,limit:1,importFileUrl:"http://leng45.eicp.net:10000/device/FW/fileUpload",params:{inspectorCode:null,organizationCode:null,orderStatus:null,pageNum:1,pageSize:10},tableData:[],dialogFormVisible:!1,editLoading:!1,driverForm:{workDate:"",inspectionOrderNo:"",organizationCode:"",inspectorCode:"",instrumentCode:"",instrumentModel:"",dsdeviceCode:"",dsdeviceSerialNo:"",lineName:"",direction:"",inspectionPointName:"",orderCode:"",dataConsistency:""},total:0,table_index:999,dialogType:"",show:!1,md5_fileName:{}}},created:function(){this.searchWorkOrder()},methods:{compareFormat:function(e,t){var a=e.dataConsistency;return 0==a?"不一致":1==a?"一致":"N/A"},uploadclick:function(e){console.log(e),this.tabindex=e},dateFormat:function(e,t){var a=e.workDate;return void 0===a?"":this.$dateFormat(a)},uploadSuccess:function(e,t,a){},uploadremove:function(e){var t=this;s()(e.raw,function(e,a){delete t.tableData[t.tabindex].md5_fileName[a]})},uploadchange:function(e){var t=this;s()(e.raw,function(a,r){t.tableData[t.tabindex].md5_fileName[r]=e.name})},uploadError:function(e,t,a){console.log("上传失败，请重试！")},uploadExceed:function(e,t){console.log(e,t)},beforeAvatarUpload:function(e){var t=this;s()(e,function(a,r){t.md5_fileName[r]=e.name,t.$refs.uploada.abort()});var a=e.size/1024/1024<10;return a||console.log("上传模板大小不能超过 10MB!"),a},searchWorkOrder:function(){var e=this,t="/workOrders/pages?pageNum="+this.params.pageNum+"&pageSize="+this.params.pageSize,a=JSON.parse(i()(this.params));this.$http.post(t,a).then(function(t){var a=t.data;e.total=a.total,e.params.pageNum=a.pageNum,a.list.map(function(e){e.md5_fileName={}}),e.tableData=a.list,console.log(e.tableData)})},reset:function(){this.params.inspectorName=null,this.params.orgnizationName=null,this.searchWorkOrder()},verifydevice:function(e,t){var a=this,r=new Object;r.dsdeviceCode=t.dsdeviceCode,r.inspectionOrderNo=t.inspectionOrderNo,r.inspector_code=t.inspectorCode,r.orderCode=t.orderCode,r.md5_fileName=this.tableData[e].md5_fileName,console.log(JSON.parse(i()(r)));var o=JSON.parse(i()(r));this.$http.post("/device/dataConsistency",o).then(function(e){e.data?a.$message({message:"数据比对成功！",type:"success"}):a.$message.error("数据比对失败!")})},sizeChange:function(e){this.params.pageSize=e,this.searchWorkOrder()},currentChange:function(e){this.params.pageNum=e,this.searchWorkOrder()}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(11),i=a.n(r),o=a(5),s=a.n(o);t.default={data:function(){return{params:{instrumentName:null,deviceTypeCode:null,organizationCode:null,pageNum:1,pageSize:10},params1:{orgnizationName:null,orgnizationDegree:null,pageNum:1,pageSize:10},params2:{pageNum:1,pageSize:10},tableData:[],dialogFormVisible:!1,editLoading:!1,deviceForm:{instrumentName:"",deviceTypeCode:"",instrumentModel:"",instrumentCode:"",organizationCode:"",deviceStatusCode:""},total:0,table_index:999,dialogType:"",dialogTitle:"",show:!1,device_loading:"",options:[{value:"0",label:"全部"},{value:"1",label:"单位一"},{value:"2",label:"单位二"},{value:"3",label:"单位三"}],sblxs:[],sblxs_mod:[],sbzts:[{value:"DS-IN-01",label:"在库可用"},{value:"DS-REPAIRE-02",label:"在库维修"},{value:"DS-OUT-01",label:"出库在用"},{value:"DS-OFF-01",label:"报废注销"}]}},created:function(){this.device_loading=this.$loading({lock:!0,text:"loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)",target:document.querySelector("#device_div")}),this.getAllOrgnization(),this.getAllDeviceType(),this.searchDevice()},methods:{yblxFormat:function(e,t){var a=e.deviceTypeCode;for(var r in this.sblxs)if(this.sblxs[r].dicValueCode==a)return this.sblxs[r].dicValueName},dwFormat:function(e,t){var a=e.organizationCode;for(var r in this.options)if(this.options[r].orgnizationCode==a)return this.options[r].orgnizationName},sbztFormat:function(e,t){var a=e.deviceStatusCode;return void 0===a?"":"DS-IN-01"==a?"在库可用":"DS-REPAIRE-02"==a?"在库维修":"DS-OUT-01"==a?"出库在用":"DS-OFF-01"==a?"报废注销":void 0},getAllOrgnization:function(){var e=this;this.params1.orgnizationDegree=null,this.params1.orgnizationName=null;var t=JSON.parse(s()(this.params1));this.$http.post("/orgnization/pages?pageNum=1&pageSize=1000",t).then(function(t){var a=t.data;e.options=a.list})},getAllDeviceType:function(){var e=this,t=JSON.parse(s()(this.params2));this.$http.post("/baseData/dic/deviceType/pages?pageNum=1&pageSize=1000",t).then(function(t){var a=t.data;e.sblxs=a.list,e.sblxs_mod.splice(0,e.sblxs_mod.length);for(var r in a.list){var i=a.list[r];"DT-SHIELD-01"!=i.dicValueCode&&e.sblxs_mod.push(i)}})},searchDevice:function(){var e=this;""==this.params.instrumentName&&(this.params.instrumentName=null),""==this.params.deviceTypeCode&&(this.params.deviceTypeCode=null),""==this.params.organizationCode&&(this.params.organizationCode=null),""==this.params.orgnizationName&&(this.params.organizationCode=null),console.log(this.params);var t="/instrument/pages?pageNum="+this.params.pageNum+"&pageSize="+this.params.pageSize,a=JSON.parse(s()(this.params));this.$http.post(t,a).then(function(t){var a=t.data;e.total=a.total,e.params.pageNum=a.pageNum,e.tableData=a.list,e.device_loading.close()})},reset:function(){this.params.instrumentName="",this.params.deviceTypeCode="",this.params.organizationCode="",this.params.orgnizationName="",this.searchDevice()},delDevice:function(e,t){var a=this;if("DS-OUT-01"==t.deviceStatusCode)return void alert("仪表处于【出库在用】状态，禁止删除！");var r="/instrument/dsdevice/?instrumentCode="+t.instrumentCode;this.$http.delete(r).then(function(t){t.data?(a.$message({message:"删除成功！",type:"success"}),a.tableData.splice(e,1)):a.$message.error("删除失败!")})},editDevice:function(e,t){if(this.dialogType="edit",this.dialogTitle="修改设备","DS-OUT-01"==t.deviceStatusCode)return void alert("仪表处于【出库在用】状态，禁止修改！");var a=[].concat(JSON.parse(s()(t)));this.deviceForm=i()({},a[0]),this.dialogFormVisible=!0,this.dialogFormTitle="123",this.table_index=e},addDevice:function(){this.dialogType="add",this.dialogTitle="新增设备",this.deviceForm=i()({}),this.dialogFormVisible=!0},cancelDevice:function(){this.dialogFormVisible=!1},saveDevice:function(){var e=this,t=this;switch(this.dialogType){case"add":if(!this.deviceForm.instrumentName||""==this.deviceForm.instrumentName)return void this.$message.error("必须录入仪表名称!");if(!this.deviceForm.deviceTypeCode||""==this.deviceForm.deviceTypeCode)return void this.$message.error("必须录入仪表类型!");if(!this.deviceForm.instrumentCode||""==this.deviceForm.instrumentCode)return void this.$message.error("必须录入资产编号!");if(!this.deviceForm.organizationCode||""==this.deviceForm.organizationCode)return void this.$message.error("必须录入所属单位!");if(!this.deviceForm.deviceStatusCode||""==this.deviceForm.deviceStatusCode)return void this.$message.error("必须录入设备状态!");var a=[].concat(JSON.parse(s()(this.deviceForm))),r=JSON.parse(s()(a[0]));this.$http.post("/instrument/",r).then(function(a){a.data?(e.$message({message:"添加成功！",type:"success"}),e.dialogFormVisible=!1,t.searchDevice()):e.$message.error("添加失败!")});break;case"edit":if(!this.deviceForm.instrumentName||""==this.deviceForm.instrumentName)return void this.$message.error("必须录入仪表名称!");if(!this.deviceForm.deviceTypeCode||""==this.deviceForm.deviceTypeCode)return void this.$message.error("必须录入仪表类型!");if(!this.deviceForm.instrumentCode||""==this.deviceForm.instrumentCode)return void this.$message.error("必须录入资产编号!");if(!this.deviceForm.organizationCode||""==this.deviceForm.organizationCode)return void this.$message.error("必须录入所属单位!");if(!this.deviceForm.deviceStatusCode||""==this.deviceForm.deviceStatusCode)return void this.$message.error("必须录入设备状态!");var a=[].concat(JSON.parse(s()(this.deviceForm))),r=JSON.parse(s()(a[0]));this.$http.put("/instrument/dsdevice",r).then(function(a){a.data?(e.$message({message:"更新成功！",type:"success"}),e.dialogFormVisible=!1,t.searchDevice()):e.$message.error("更新失败!")})}},sizeChange:function(e){this.params.pageSize=e,this.searchDevice()},currentChange:function(e){this.params.pageNum=e,this.searchDevice()},check:function(e){var t=this;this.$nextTick(function(){t.deviceForm.instrumentCode=e.replace(/[^a-zA-Z0-9_-]/g,"")})}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(5),i=a.n(r);t.default={data:function(){return{params:{inspectorName:null,orgnizationName:null,orderStatus:"T-SIGHED-02@T-OUT-03",pageNum:1,pageSize:10},tableData:[],dialogFormVisible:!1,editLoading:!1,driverForm:{ticketDate:"",inspectionOrderNo:"",orgnizationName:"",inspectorName:"",instrumentCode:"",instrumentModel:"",dsdeviceCode:"",dsdeviceSerialNo:"",lineName:"",direction:"",inspectionPointName:"",orderStatus:""},total:0,table_index:999,dialogType:""}},computed:{dics:function(){return this.$store.state.indexstore.dics}},created:function(){this.searchWorkOrder()},methods:{orderFormat:function(e,t){var a=e.orderStatus;return this.getDicText(a)},getDicText:function(e){var t=this.dics["6*工单状态"];return t[e]},dateFormat:function(e,t){var a=e.workDate;return void 0===a?"":this.$dateFormat(a)},verifydevice:function(e,t){var a=this,r=new Object;r.deviceID=t.dsdeviceCode,r.serialNum=t.dsdeviceSerialNo,r.ticketsNum=t.inspectionOrderNo;var o=JSON.parse(i()(r));this.$http.post("/device/verBinding",o).then(function(e){e.data?a.$message({message:"绑定成功！",type:"success"}):a.$message.error("绑定失败!")})},searchWorkOrder:function(){var e=this,t="/workOrders/pages?pageNum="+this.params.pageNum+"&pageSize="+this.params.pageSize,a=JSON.parse(i()(this.params));this.$http.post(t,a).then(function(t){var a=t.data;e.total=a.total,e.params.pageNum=a.pageNum,e.tableData=a.list})},reset:function(){this.params.inspectorName=null,this.params.orgnizationName=null,this.searchWorkOrder()},sizeChange:function(e){this.params.pageSize=e,this.searchWorkOrder()},currentChange:function(e){this.params.pageNum=e,this.searchWorkOrder()}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(5),i=a.n(r);t.default={data:function(){return{params:{},tableData:[],dialogFormVisible:!1,editLoading:!1,driverForm:{dsdeviceCode:"",dsdeviceSerialNo:"",orgnizationName:"",deviceStatusCode:"",logTransPortStatus:""},total:0,table_index:999,dialogType:"",myInterval:""}},computed:{dics:function(){return this.$store.state.indexstore.dics}},created:function(){this.searchDeviceLog()},mounted:function(){this.myInterval=setInterval(this.intervalSearch,3e3)},beforeDestroy:function(){clearInterval(this.myInterval)},destroyed:function(){},methods:{intervalSearch:function(){this.searchDeviceLog()},devstatusFormat:function(e,t){var a=e.deviceStatusCode;return this.getDicText(a)},getDicText:function(e){var t=this.dics["4*设备状态"];return t[e]},searchDeviceLog:function(){var e=this;console.log(this.myInterval),this.$http.get("/device/log").then(function(t){var a=t.data;e.tableData=a})},getdevicelog:function(e,t){var a=this,r=new Object;r.deviceID=t.dsdeviceCode,r.serialNum=t.dsdeviceSerialNo;var o=JSON.parse(i()(r));this.$http.post("/device/upLog",o).then(function(e){e.data?a.$message({message:"日志采集成功！",type:"success"}):a.$message.error("日志采集失败!")})},sizeChange:function(e){this.params.pageSize=e,this.searchDeviceLog()},currentChange:function(e){this.params.pageNum=e,this.searchDeviceLog()}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(11),i=a.n(r),o=a(5),s=a.n(o);t.default={data:function(){return{params:{pageNum:1,pageSize:10},tableData:[],show:!1,dialogFormVisible:!1,editLoading:!1,deviceTypeForm:{dicCode:"3",dicValueName:"",dicValueCode:"",dicValueComment:"",read_only:!1},total:0,table_index:999,dialogType:"",dialogTitle:""}},created:function(){this.searchDeviceType()},methods:{searchDeviceType:function(){var e=this,t=JSON.parse(s()(this.params)),a="/baseData/dic/deviceType/pages?pageNum="+this.params.pageNum+"&pageSize="+this.params.pageSize;this.$http.post(a,t).then(function(t){var a=t.data;e.total=a.total,e.params.pageNum=a.pageNum,e.tableData=a.list})},reset:function(){this.params.ygxm="",this.params.gh="",this.params.ssdw="",this.params.czqx="",this.searchDeviceType()},delDeviceType:function(e,t){var a=this,r="/baseData/dic/deviceType/?dicValueCode="+t.dicValueCode;this.$http.delete(r).then(function(t){t.data?(a.$message({message:"删除成功！",type:"success"}),a.tableData.splice(e,1)):a.$message.error("删除失败!")})},editDeviceType:function(e,t){this.dialogType="edit",this.dialogTitle="修改设备类型";var a=[].concat(JSON.parse(s()(t)));this.deviceTypeForm=i()({},a[0]),this.dialogFormVisible=!0,this.deviceTypeForm.read_only=!1,this.table_index=e},addDeviceType:function(){this.dialogType="add",this.dialogTitle="新增设备类型",this.deviceTypeForm=i()({}),this.dialogFormVisible=!0,this.deviceTypeForm.read_only=!1},cancelDeviceType:function(){this.dialogFormVisible=!1},saveDeviceType:function(){var e=this;switch(this.dialogType){case"add":this.deviceTypeForm.dicCode="3";var t=[].concat(JSON.parse(s()(this.deviceTypeForm))),a=JSON.parse(s()(t[0]));this.$http.post("/baseData/dic/deviceType",a).then(function(t){t.data?(e.$message({message:"添加成功！",type:"success"}),e.dialogFormVisible=!1,e.searchDeviceType()):e.$message.error("添加失败!")});break;case"edit":var t=[].concat(JSON.parse(s()(this.deviceTypeForm))),a=JSON.parse(s()(t[0]));this.$http.put("/baseData/dic/deviceType",a).then(function(t){t.data?(e.$message({message:"更新成功！",type:"success"}),e.dialogFormVisible=!1,e.searchDeviceType()):e.$message.error("更新失败!")})}},sizeChange:function(e){this.params.pageSize=e,this.searchDeviceType()},currentChange:function(e){this.params.pageNum=e,this.searchDeviceType()}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(5),i=a.n(r);t.default={data:function(){return{params:{inspectorName:null,orgnizationName:null,orderStatus:"T-DAT-04",pageNum:1,pageSize:10},tableData:[],dialogFormVisible:!1,editLoading:!1,driverForm:{workDate:"",inspectionOrderNo:"",orgnizationName:"",inspectorName:"",instrumentCode:"",instrumentModel:"",dsdeviceCode:"",dsdeviceSerialNo:"",orderStatus:""},total:0,table_index:999,dialogType:""}},computed:{dics:function(){return this.$store.state.indexstore.dics}},created:function(){this.searchWorkOrder()},methods:{orderFormat:function(e,t){var a=e.orderStatus;return this.getDicText(a)},getDicText:function(e){var t=this.dics["6*工单状态"];return t[e]},dateFormat:function(e,t){var a=e.workDate;return void 0===a?"":this.$dateFormat(a)},searchWorkOrder:function(){var e=this,t="/workOrders/pages?pageNum="+this.params.pageNum+"&pageSize="+this.params.pageSize,a=JSON.parse(i()(this.params));this.$http.post(t,a).then(function(t){var a=t.data;e.total=a.total,e.params.pageNum=a.pageNum,e.tableData=a.list})},reset:function(){this.params.inspectorName=null,this.params.orgnizationName=null,this.searchWorkOrder()},unverifydevice:function(e,t){var a=this,r=new Object;r.cmcSerialNum=null,r.deviceID=t.dsdeviceCode,r.serialNum=t.dsdeviceSerialNo,r.ticketsNum=t.inspectionOrderNo;var o=JSON.parse(i()(r));this.$http.post("/device/unBinding",o).then(function(e){e.data?a.$message({message:"解绑成功！",type:"success"}):a.$message.error("解绑失败!")})},sizeChange:function(e){this.params.pageSize=e,this.searchWorkOrder()},currentChange:function(e){this.params.pageNum=e,this.searchWorkOrder()}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(5),i=a.n(r),o=a(64),s=a.n(o);t.default={data:function(){return{dialogVisible:!1,addfirmwareTbData:{firmwareCode:"",firmwareMd5:"",firmwarePath:"",firmwareSize:"",firmwareVersion:""},multiple:!1,limit:1,importFileUrl:"http://leng45.eicp.net:10000/device/FW/fileUpload",params:{},tableData:""}},created:function(){this.searchDeviceFW()},methods:{handleClose:function(){this.dialogVisible=!1},dialogVisiblec:function(){var e=this;this.$http.put("/device/FW",this.addfirmwareTbData).then(function(t){t.data&&e.searchDeviceFW()}),this.dialogVisible=!1},searchDeviceFW:function(){var e=this;this.$http.get("/device/FW").then(function(t){var a=t.data;return console.log(a),e.tableData=a,e.addfirmwareTbData.firmwareCode=a.firmwareCode,a})},uploadremoved:function(){this.addfirmwareTbData.firmwareSize="",this.addfirmwareTbData.firmwareMd5=""},addfirmwareTbcg:function(e){console.log(e);var t=this;this.addfirmwareTbData.firmwareSize=parseInt(e.size/1024),s()(e.raw,function(e,a){t.addfirmwareTbData.firmwareMd5=a})},uploadSuccess:function(e,t,a){var r=this;this.addfirmwareTbData.firmwareSize=parseInt(t.size/1024),s()(t.raw,function(e,t){r.addfirmwareTbData.firmwareMd5=t}),this.$refs.upload.clearFiles(),this.addfirmwareTbData.firmwarePath=e,this.dialogVisible=!0,console.log("上传文件",e)},uploadError:function(e,t,a){console.log("上传失败，请重试！")},submitUpload:function(){this.$refs.upload.submit()},uploadExceed:function(e,t){console.log(e,t)},beforeAvatarUpload:function(e){var t=e.size/1024/1024<10;return t||console.log("上传模板大小不能超过 10MB!"),t},deviceupdate:function(){var e=this,t=new Object;t.fwMD5="c9a5e8dce501cbad2d6da4a888bfb509",t.fwSize="12",t.fwVersion="100.005",t.url="http://leng45.eicp.net:8080/DataShield/FW/newfw.zip";var a=JSON.parse(i()(t));this.$http.put("/device/FW",a).then(function(t){t.data?(e.$message({message:"升级成功！",type:"success"}),e.tableData.splice(index,1)):e.$message.error("升级失败!")})}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(11),i=a.n(r),o=a(5),s=a.n(o);t.default={data:function(){return{params:{orgnizationName:null,orgnizationDegree:null,pageNum:1,pageSize:10},tableData:[],dialogFormVisible:!1,editLoading:!1,orgForm:{orgnizationCode:"0",orgnizationName:"",orgnizationDirector:"",orgnizationDegree:""},total:0,table_index:999,dialogType:"",dialogTitle:"",currole:""}},created:function(){var e=JSON.parse(sessionStorage.getItem("user"));this.currole=e.staffRole,console.log(this.currole),this.searchOrg()},methods:{dateFormat:function(e,t){var a=e.csny;return void 0===a?"":this.$dateFormat(a)},jbFormat:function(e,t){var a=e.orgnizationDegree;return void 0===a?"":"S-01"==a?"本院":"S-02"==a?"外委公司":"S-03"==a?"科室/班组":void 0},searchOrg:function(){var e=this;""==this.params.orgnizationName&&(this.params.orgnizationName=null),""==this.params.orgnizationDegree&&(this.params.orgnizationDegree=null);var t=JSON.parse(s()(this.params)),a="/orgnization/pages?pageNum="+this.params.pageNum+"&pageSize="+this.params.pageSize;this.$http.post(a,t).then(function(t){var a=t.data;e.total=a.total,e.params.pageNum=a.pageNum,console.log(a.list),e.tableData=a.list})},reset:function(){this.params.orgnizationName="",this.params.orgnizationDegree="",this.searchOrg()},delOrg:function(e,t){var a=this,r="/orgnization/?orgnizationCode="+t.orgnizationCode;this.$http.delete(r).then(function(t){t.data?(a.$message({message:"删除成功！",type:"success"}),a.tableData.splice(e,1)):a.$message.error("删除失败!")})},editOrg:function(e,t){this.dialogType="edit",this.dialogTitle="修改单位";var a=[].concat(JSON.parse(s()(t)));this.orgForm=i()({},a[0]),this.dialogFormVisible=!0,this.table_index=e},addOrg:function(){this.dialogType="add",this.dialogTitle="新增单位",this.orgForm=i()({}),this.dialogFormVisible=!0},cancelOrg:function(){this.dialogFormVisible=!1},saveOrg:function(){var e=this;switch(this.dialogType){case"add":if(console.log(this.orgForm.orgnizationName),!this.orgForm.orgnizationName||""==this.orgForm.orgnizationName)return void this.$message.error("必须录入名称!");if(!this.orgForm.orgnizationDegree||""==this.orgForm.orgnizationDegree)return void this.$message.error("必须录入单位级别!");var t="orgnization/check/name?orgnization_name="+this.orgForm.orgnizationName;this.$http.get(t).then(function(t){if(t.data)e.$message.error("已经存在名称为"+e.orgForm.orgnizationName+"的组织机构，添加失败!"),e.return;else{var a=[].concat(JSON.parse(s()(e.orgForm))),r=JSON.parse(s()(a[0]));e.$http.post("/orgnization/",r).then(function(t){t.data?(e.$message({message:"添加成功！",type:"success"}),e.dialogFormVisible=!1,e.searchOrg()):e.$message.error("添加失败!")})}});break;case"edit":if(console.log(this.orgForm.orgnizationName),!this.orgForm.orgnizationName||""==this.orgForm.orgnizationName)return void this.$message.error("必须录入名称!");if(!this.orgForm.orgnizationDegree||""==this.orgForm.orgnizationDegree)return void this.$message.error("必须录入单位级别!");var t="orgnization/check/name/pk?orgnizationName="+this.orgForm.orgnizationName+"&orgnizationCode="+this.orgForm.orgnizationCode;console.log(t),this.$http.get(t).then(function(t){if(t.data)e.$message.error("已经存在名称为"+e.orgForm.orgnizationName+"的组织机构，修改失败!"),e.return;else{var a=[].concat(JSON.parse(s()(e.orgForm))),r=JSON.parse(s()(a[0]));e.$http.put("/orgnization/",r).then(function(t){t.data?(e.$message({message:"更新成功！",type:"success"}),e.dialogFormVisible=!1,e.searchOrg()):e.$message.error("更新失败!")})}})}},sizeChange:function(e){this.params.pageSize=e,this.searchOrg()},currentChange:function(e){this.params.pageNum=e,this.searchOrg()},show:function(){}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(11),i=a.n(r),o=a(5),s=a.n(o);t.default={data:function(){return{params:{deviceTypeCode:null,dsdeviceName:null,orgnizationName:null,pageNum:1,pageSize:10},tableData:[],dialogFormVisiblex:!1,dialogFormVisible:!1,editLoading:!1,deviceForm:{deviceStatusCode:"",deviceTypeCode:"",dsdeviceCode:"",dsdeviceModel:"",dsdeviceName:"",dsdeviceSerialNo:"N/A",organizationCode:"",orgnizationName:""},total:0,table_index:999,dialogType:"",newArr:[],radios:"",radio_index:0,deviceID:"",shieldmgr_loading:""}},computed:{dsdeviceCode:function(){return this.$store.state.indexstore.dsdeviceCode},arr:function(){return this.$store.state.indexstore.arr},dics:function(){return this.$store.state.indexstore.dics},orgn:function(){return this.$store.state.indexstore.orgn}},beforeMount:function(){console.log(this.dsdeviceCode,this.arr,this.dics["3*设备类型"])},created:function(){this.shieldmgr_loading=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)",target:document.querySelector("#shieldmgr_div")}),this.searchDevice()},methods:{devtypeFormat:function(e,t){var a=e.deviceTypeCode;return this.getDicDevTText(a)},devstatusFormat:function(e,t){var a=e.deviceStatusCode;return this.getDicDevSText(a)},getDicDevSText:function(e){var t=this.dics["4*设备状态"];return t[e]},getDicDevTText:function(e){var t=this.dics["3*设备类型"];return t[e]},searchDevice:function(){var e=this,t="/dsdeviceM/dsdevice/pages?pageNum="+this.params.pageNum+"&pageSize="+this.params.pageSize,a=JSON.parse(s()(this.params));this.$http.post(t,a).then(function(t){var a=t.data;e.total=a.total,e.params.pageNum=a.pageNum,console.log(a.list),e.tableData=a.list,e.shieldmgr_loading.close()})},dsdeviceCodeyz:function(e){var t=this;this.$nextTick(function(){t.deviceForm.dsdeviceCode=e.replace(/[^a-zA-Z0-9_-]/g,"")}),console.log(e.replace(/[^a-zA-Z0-9_-]/g,"")),console.log(this.deviceForm.dsdeviceCode)},reset:function(){this.params.dsdeviceName=null,this.params.orgnizationName=null,this.searchDevice()},devicecomm:function(e,t){var a=this;this.deviceID=t.dsdeviceCode,this.dialogFormVisiblex=!0,this.$http.get("/dsdeviceM/dsdevice/unpaired_serialNos").then(function(e){var t=e.data;t&&(a.newArr=t)})},radioss:function(e,t){this.radios=e;this.$refs.o.length;this.$refs.o[this.radio_index].style.background="#ffffff",this.$refs.o[this.radio_index].style.color="#48576a",this.radio_index=t,this.$refs.o[t].style.background="#055476",this.$refs.o[t].style.color="#ffffff"},devicecommex:function(e,t){var a=this,r=this;if(""==this.radios)return this.$message({message:"请选择一个新设备串号",type:"warning"}),!1;this.$store.state.indexstore.dsdeviceSerialNo=this.radios,console.log(this.$store.state.indexstore.dsdeviceSerialNo);var i={};i.deviceID=this.deviceID,i.serialNum=this.radios,this.$http.post("/dsdeviceM/dsdevice/register_cmd",i).then(function(e){var t=e.data,o="";if(t){a.$message({message:"成功配对",type:"success"}),a.dialogFormVisiblex=!1;var s=a.tableData,n=s.filter(function(e,t){if(e.dsdeviceCode==i.deviceID)return o=t,e.dsdeviceSerialNo=r.radios});a.tableData[o]=n[0]}else a.$message.error("删除失败!")})},addDevice:function(){var e=this;this.deviceForm.dsdeviceSerialNo="N/A";for(var t in this.dics["3*设备类型"])"防篡改设备"==e.dics["3*设备类型"][t]&&(e.deviceForm.deviceTypeCode=t);console.log(this.dics["3*设备类型"]),this.dialogType="add",this.WorkOrderForm=i()({}),this.dialogFormVisible=!0},cancelDevice:function(){this.ClearDeviceForm(),this.dialogFormVisible=!1},saveDevice:function(){var e=this;switch(this.dialogType){case"add":var t=[].concat(JSON.parse(s()(this.deviceForm))),a=JSON.parse(s()(t[0]));this.$http.post("/dsdeviceM/dsdevice",a).then(function(t){t.data?(e.$message({message:"添加成功！",type:"success"}),e.dialogFormVisible=!1,e.searchDevice(),e.ClearDeviceForm()):e.$message.error("添加失败!")});break;case"edit":var t=[].concat(JSON.parse(s()(this.deviceForm))),a=JSON.parse(s()(t[0]));this.$http.put("/dsdeviceM/dsdevice",a).then(function(t){t.data?(e.$message({message:"更新成功！",type:"success"}),e.dialogFormVisible=!1,e.searchDevice()):e.$message.error("更新失败!")})}},ClearDeviceForm:function(){this.deviceForm={deviceStatusCode:"",deviceTypeCode:"",dsdeviceCode:"",dsdeviceModel:"",dsdeviceName:"",organizationCode:""}},editShield:function(e,t){if("DS-OUT-01"==t.deviceStatusCode)return void this.$message.info("设备已出库在用！");this.dialogType="edit";var a=[].concat(JSON.parse(s()(t)));this.deviceForm=i()({},a[0]),this.dialogFormVisible=!0,this.table_index=e},delShield:function(e,t){var a=this;if("DS-OUT-01"==t.deviceStatusCode)return void this.$message.info("设备已出库在用！");var r=(JSON.parse(s()(t.dsdeviceCode)),"/dsdeviceM/dsdevice?dsdeviceCode="+t.dsdeviceCode);this.$http.delete(r).then(function(t){t.data?(a.$message({message:"删除成功！",type:"success"}),a.tableData.splice(e,1)):a.$message.error("删除失败!")})},sizeChange:function(e){this.params.pageSize=e,this.searchDevice()},currentChange:function(e){this.params.pageNum=e,this.searchDevice()}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(11),i=a.n(r),o=a(5),s=a.n(o);t.default={data:function(){return{params:{staffCode:"0",staffName:null,organizationCode:null,orgnizationName:null,pageNum:1,pageSize:10},params1:{orgnizationName:null,orgnizationDegree:null,pageNum:1,pageSize:10},tableData:[],dialogFormVisible:!1,editLoading:!1,userForm:{staffName:"",staffNumber:"",organizationCode:"",staffRole:"",staffPwd:""},total:0,table_index:999,dialogType:"",dialogTitle:"",options:[],user_loading:"",currole:"",staffRoles:[{value:"ROLE-SYS-01",label:"系统管理员"},{value:"ROLE-OP-02",label:"系统操作员"},{value:"ROLE-STAFF-03",label:"巡检员"}]}},created:function(){var e=JSON.parse(sessionStorage.getItem("user"));this.currole=e.staffRole,console.log(this.currole),this.user_loading=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)",target:document.querySelector("#user_div")}),this.getAllOrgnization(),this.searchUser()},methods:{dwFormat:function(e,t){var a=e.organizationCode;for(var r in this.options)if(this.options[r].orgnizationCode==a)return this.options[r].orgnizationName},qxFormat:function(e,t){var a=e.staffRole;return void 0===a?"":"ROLE-SYS-01"==a?"系统管理员":"ROLE-OP-02"==a?"系统操作员":"ROLE-STAFF-03"==a?"巡检员":void 0},getAllOrgnization:function(){var e=this;this.params1.orgnizationDegree=null,this.params1.orgnizationName=null;var t=JSON.parse(s()(this.params1));this.$http.post("/orgnization/pages?pageNum=1&pageSize=1000",t).then(function(t){var a=t.data;e.options=a.list})},searchUser:function(){var e=this;""==this.params.staffName&&(this.params.staffName=null),""==this.params.organizationCode&&(this.params.organizationCode=null),""==this.params.orgnizationName&&(this.params.orgnizationName=null);var t=JSON.parse(s()(this.params)),a="/staff/pages?pageNum="+this.params.pageNum+"&pageSize="+this.params.pageSize;this.$http.post(a,t).then(function(t){var a=t.data;e.total=a.total,e.params.pageNum=a.pageNum,e.tableData=a.list,e.user_loading.close()})},reset:function(){this.params.staffName="",this.params.staffNumber="",this.params.organizationCode="",this.params.orgnizationName="",this.params.staffRole="",this.searchUser()},delUser:function(e,t){var a=this,r="/staff/?staffCode="+t.staffCode;this.$http.delete(r).then(function(t){t.data?(a.$message({message:"删除成功！",type:"success"}),a.tableData.splice(e,1)):a.$message.error("删除失败!")})},editUser:function(e,t){this.dialogType="edit",this.dialogTitle="修改员工";var a=[].concat(JSON.parse(s()(t)));this.userForm=i()({},a[0]),this.dialogFormVisible=!0,this.table_index=e},addUser:function(){this.dialogType="add",this.dialogTitle="新增员工",this.userForm=i()({}),this.dialogFormVisible=!0},cancelUser:function(){this.dialogFormVisible=!1},saveUser:function(){var e=this;switch(this.dialogType){case"add":if(!this.userForm.staffName||""==this.userForm.staffName)return void this.$message.error("必须录入员工姓名!");if(!this.userForm.organizationCode||""==this.userForm.organizationCode)return void this.$message.error("必须录入所属单位!");if(!this.userForm.staffPwd||""==this.userForm.staffPwd)return void this.$message.error("必须录入密码!");var t="/staff/check/number?staffNumber="+this.userForm.staffNumber;this.$http.get(t).then(function(t){if(t.data)e.$message.error("已经存在工号为"+e.userForm.staffNumber+"的员工，添加失败!"),e.return;else{var a=[].concat(JSON.parse(s()(e.userForm))),r=JSON.parse(s()(a[0]));e.$http.post("/staff/",r).then(function(t){t.data?(e.$message({message:"添加成功！",type:"success"}),e.dialogFormVisible=!1,e.searchUser()):e.$message.error("添加失败!")})}});break;case"edit":if(!this.userForm.staffName||""==this.userForm.staffName)return void this.$message.error("必须录入员工姓名!");if(console.log(this.userForm),!this.userForm.organizationCode||""==this.userForm.organizationCode)return void this.$message.error("必须录入所属单位!");var t="/staff/check/number/pk?staffNumber="+this.userForm.staffNumber+"&staffCode="+this.userForm.staffCode;this.$http.get(t).then(function(t){if(t.data)e.$message.error("已经存在工号为"+e.userForm.staffNumber+"的员工，修改失败!"),e.return;else{var a=[].concat(JSON.parse(s()(e.userForm))),r=JSON.parse(s()(a[0]));e.$http.put("/staff/",r).then(function(t){t.data?(e.$message({message:"更新成功！",type:"success"}),e.dialogFormVisible=!1,e.searchUser()):e.$message.error("更新失败!")})}})}},sizeChange:function(e){this.params.pageSize=e,this.searchUser()},currentChange:function(e){this.params.pageNum=e,this.searchUser()},show:function(){return!1}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(11),i=a.n(r),o=a(158),s=a.n(o),n=a(5),l=a.n(n);t.default={data:function(){return{params:{inspectorName:null,orgnizationName:null,pageNum:1,pageSize:10},tableData:[],dialogFormVisible:!1,editLoading:!1,WorkOrderForm:{workDate:"",inspectionOrderNo:"",organizationCode:"",orgnizationCode:"",orgnizationName:"",inspectorCode:"",inspectorName:"",instrumentCode:"",instrumentModel:"",dsdeviceCode:"",dsdeviceSerialNo:"",lineName:"",direction:"",inspectionPointName:"",orderCode:""},total:0,table_index:999,dialogType:"",show:!1,instrumentCodeList:"",dsdeviceCodeList:"",selstaff:"",currole:"",workorder_loading:""}},computed:{dics:function(){return this.$store.state.indexstore.dics},orgn:function(){return this.$store.state.indexstore.orgn},staff:function(){return this.$store.state.indexstore.staff}},created:function(){var e=JSON.parse(sessionStorage.getItem("user"));this.currole=e.staffRole,console.log(this.currole),this.workorder_loading=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)",target:document.querySelector("#workOrder_div")});var t=this;this.searchWorkOrder();var a="/instrument/pages?pageNum="+this.params.pageNum+"&pageSize=1000",r=JSON.parse(l()(this.params));this.$http.post(a,r).then(function(e){t.instrumentCodeList=e.data.list});var i="/dsdeviceM/dsdevice/pages?pageNum="+this.params.pageNum+"&pageSize=1000",o=JSON.parse(l()(this.params));this.$http.post(i,o).then(function(e){t.dsdeviceCodeList=e.data.list})},mounted:function(){console.log(this.dics,this.orgn)},methods:{ordernoVerfy:function(e){var t=this;this.$nextTick(function(){t.WorkOrderForm.inspectionOrderNo=e.replace(/[^a-zA-Z0-9]/g,"")})},dateChangebirthday:function(e){this.WorkOrderForm.workDate=e},dateFormat:function(e,t){var a=e.workDate;return void 0===a?"":this.$dateFormat(a)},orderFormat:function(e,t){var a=e.orderStatus;return this.getDicText(a)},getDicText:function(e){var t=this.dics["6*工单状态"];return t[e]},getOrgan:function(e){var t=[],a=!0,r=!1,i=void 0;try{for(var o,n=s()(this.staff);!(a=(o=n.next()).done);a=!0){var l=o.value;e==l.organizationCode&&t.push(l)}}catch(e){r=!0,i=e}finally{try{!a&&n.return&&n.return()}finally{if(r)throw i}}console.log(t),this.selstaff=t},searchWorkOrder:function(){var e=this,t="/workOrders/pages?pageNum="+this.params.pageNum+"&pageSize="+this.params.pageSize,a=JSON.parse(l()(this.params));this.$http.post(t,a).then(function(t){var a=t.data;e.total=a.total,e.params.pageNum=a.pageNum,e.tableData=a.list,e.workorder_loading.close()})},reset:function(){this.params.inspectorName=null,this.params.orgnizationName=null,this.searchWorkOrder()},deleteWorkOrder:function(e,t){var a=this;console.log(t.orderCode),this.$http.delete("/workOrders/?orderCode="+t.orderCode).then(function(t){t.data?(a.$message({message:"删除成功！",type:"success"}),a.tableData.splice(e,1)):a.$message.error("设备出库在用，不能删除!")})},editWorkOrder:function(e,t){this.dialogType="edit";var a=[].concat(JSON.parse(l()(t)));this.WorkOrderForm=i()({},a[0]),this.WorkOrderForm.organizationCode=t.orgnizationCode,this.dialogFormVisible=!0,this.table_index=e},signWorkOrder:function(e,t){var a=this,r=new Object;r.bandStatus="Banded",r.deviceID=t.dsdeviceCode,r.serialNum=t.dsdeviceSerialNo,r.staffID=t.inspectorCode,r.userID=JSON.parse(sessionStorage.getItem("user")).staffName;var i=new Object;i.instrumentID=t.instrumentCode,i.instrumentName=t.instrumentModel,i.lineDirection=t.direction,i.lineID=t.lineName,i.mileNum=t.inspectionPointName;var o=new Date(t.workDate),s=o.getFullYear(),n=o.getMonth()+1,d=o.getDate(),c=[s,n,d].join("-");i.ticketDate=c,i.ticketID=t.inspectionOrderNo;var p=Array();p.push(i),r.ticketList=p;var u=JSON.parse(l()(r));console.log(u),this.$http.post("/device/Binding",u).then(function(e){e.data?(a.$message({message:e.data,type:"success"}),a.searchWorkOrder()):a.$message.error("签发失败!")})},addWorkOrder:function(){this.dialogType="add",this.WorkOrderForm=i()({}),this.dialogFormVisible=!0},cancelWorkOrder:function(){this.dialogFormVisible=!1},saveWorkOrder:function(){var e=this;switch(this.dialogType){case"add":var t=[].concat(JSON.parse(l()(this.WorkOrderForm)));console.log(t[0]);var a=JSON.parse(l()(t[0]));this.$http.post("/workOrders/",a).then(function(t){t.data?(e.$message({message:"添加成功！",type:"success"}),e.dialogFormVisible=!1,e.searchWorkOrder()):e.$message.error("添加失败!")});break;case"edit":var t=[].concat(JSON.parse(l()(this.WorkOrderForm))),a=JSON.parse(l()(t[0]));console.log(t[0]),this.$http.put("/workOrders/",a).then(function(t){t.data?(e.$message({message:"更新成功！",type:"success"}),e.dialogFormVisible=!1,e.searchWorkOrder()):e.$message.error("更新失败!")})}},sizeChange:function(e){this.params.pageSize=e,this.searchWorkOrder()},currentChange:function(e){this.params.pageNum=e,this.searchWorkOrder()}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{user:{}},data:function(){return{revpassword:!1,oldpassword:"",newpassword:"",newtwopassword:""}},methods:{clearData:function(){this.oldpassword="",this.newpassword="",this.newtwopassword=""},revpasswordClose:function(){this.revpassword=!1},passwordyz1:function(e){var t=this;this.$nextTick(function(){t.oldpassword=e.replace(/[^a-zA-Z0-9_-]/g,"")})},passwordyz2:function(e){var t=this;this.$nextTick(function(){t.newpassword=e.replace(/[^a-zA-Z0-9_-]/g,"")})},passwordyz3:function(e){var t=this;this.$nextTick(function(){t.newtwopassword=e.replace(/[^a-zA-Z0-9_-]/g,"")})},revpasswordConfirm:function(){var e=JSON.parse(sessionStorage.getItem("user"));console.log(e);var t=e.staffPwd,a=e.staffCode,r=this;t==this.oldpassword?this.newpassword==this.newtwopassword?(console.log({staffCode:a,staffPwd:this.newtwopassword}),this.$http.put("/staff/",{staffCode:a,staffPwd:this.newtwopassword}).then(function(e){console.log(e.data),e.data?(r.$message.success("修改成功!"),sessionStorage.removeItem("user"),r.$router.push("/login")):r.$message.error("修改失败!")})):this.$message.error("两次密码输入不一致!"):this.$message.error("原密码错误!")},clearUser:function(){var e=this;this.$alert("是否退出登录","警告",{confirmButtonText:"确定",callback:function(t){"confirm"==t&&(sessionStorage.removeItem("user"),e.$router.push("/login"))}})}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{imgurl:"static/img/home.png",company:"中铁西南科学研究院有限公司",project:"防篡改设备管理系统"}},methods:{}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(162),i=a.n(r),o=a(5),s=a.n(o),n=a(161),l=a.n(n),d=a(255),c=a.n(d),p=a(259),u=a.n(p);t.default={data:function(){return{user:{name:"Administrator"}}},created:function(){var e=this;return l()(i.a.mark(function t(){var a,r,o,n,l,d,c,p,u;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=JSON.parse(sessionStorage.getItem("user")),console.log(a),r=a.staffPwd,console.log(r),o=a.staffNumber,console.log(o),n=new Object,n.staffName=o,n.staffNumber=r,l=JSON.parse(s()(n)),console.log(l),d=e;try{a.staffName}catch(t){e.$router.push("/login")}return e.user.name=a.staffName,t.next=16,e.$http.post("/staff/verfyLogin",l).then(function(e){console.log(e.data),e.data?d.$router.push("/index"):d.$router.push("/login")});case 16:e.$http.get("/baseData/dics",{}).then(function(e){var t=e.data;d.$store.state.indexstore.dics=t}),n=new Object,n.orgnizationDegree=null,n.orgnizationName=null,c=JSON.parse(s()(n)),e.$http.post("/orgnization/pages?pageNum=1&pageSize=1000",c).then(function(e){var t=e.data;d.$store.state.indexstore.orgn=t.list}),p=new Object,p.orgnizationDegree=null,p.orgnizationName=null,u=JSON.parse(s()(n)),e.$http.post("/staff/pages?pageNum=1&pageSize=1000",u).then(function(e){var t=e.data;console.log(t),d.$store.state.indexstore.staff=t.list});case 27:case"end":return t.stop()}},t,e)}))()},beforeCreate:function(){},components:{"v-header":c.a,"v-menu":u.a}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(5),i=a.n(r);t.default={data:function(){return{imgurl:"static/img/logo.png",user:"static/img/user.png",pass:"static/img/password.png",name:"西南设计院防篡改设备管理系统"}},methods:{searchEnterFun:function(){var e=this,t={staffName:this.$refs.user.value,staffNumber:this.$refs.password.value};console.log(t),this.$refs.user.value&&this.$refs.password.value?this.$http.post("/staff/verfyLogin",{staffName:this.$refs.user.value,staffNumber:this.$refs.password.value}).then(function(t){console.log(t.data),t.data?(e.$message.success("登录成功!"),e.$router.push("/index"),sessionStorage.setItem("user",i()(t.data))):e.$message.error("登录失败!")}):this.$refs.user.value?e.$message.error("请输入密码!"):e.$message.error("请输入用户名!")},login:function(){var e=this;this.$refs.user.value&&this.$refs.password.value?this.$http.post("/staff/verfyLogin",{staffName:this.$refs.user.value,staffNumber:this.$refs.password.value}).then(function(t){console.log(t.data),t.data?(e.$router.push("/index"),sessionStorage.setItem("user",i()(t.data))):e.$message.error("登录失败!")}):this.$refs.user.value?e.$message.error("请输入密码!"):e.$message.error("请输入用户名!")}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{height_list:{height:0},user:{role:""},taskmanager_item:[{title:"工单签发",path:"/index/workorder",class:"fa-user1",hidden:!0}],equipment_item:[{title:"设备绑定",path:"/index/devicebind",class:"fa-tag1",hidden:!0},{title:"设备解绑",path:"/index/deviceunbind",class:"fa-bars1",hidden:!0},{title:"数据一致性检查",path:"/index/datacompare",class:"fa-step-forward1",hidden:!0},{title:"设备日志",path:"/index/devicelog",class:"fa-dolla1r",hidden:!0},{title:"设备固件升级",path:"/index/deviceupdate",class:"fa-dollar1",hidden:!0}],basedatamanager_item:[{title:"组织机构管理",path:"/index/orgmanag",class:"fa-orgmanag",hidden:!0},{title:"人员管理",path:"/index/user",class:"fa-user1",hidden:!0},{title:"设备类型维护",path:"/index/devicetype",class:"fa-devicetype",hidden:!0},{title:"受控仪表管理",path:"/index/device",class:"fa-device",hidden:!0},{title:"防篡改设备管理",path:"/index/shieldmgr",class:"fa-newspaper-o1",hidden:!0}]}},created:function(){var e=JSON.parse(sessionStorage.getItem("user")),t=(e.staffNumber,e.staffPwd,e.staffRole);if("ROLE-SYS-01"==t);else if("ROLE-OP-02"==t);else if("ROLE-STAFF-03"==t)for(var a in this.basedatamanager_item)this.basedatamanager_item[a].hidden=!1;this.user.role=t},mounted:function(){},methods:{handleSelect:function(e,t){console.log(e,t)},handleOpen:function(e,t){console.log(e,t)},handleClose:function(e,t){console.log(e,t)}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(4),i=a(98),o=a.n(i),s=a(93),n=a(91),l=a(92),d=a(95),c=a.n(d),p=a(96),u=(a.n(p),a(97)),m=(a.n(u),a(94));r.default.prototype.$http=n.a,r.default.prototype.$dateFormat=l.a,r.default.use(c.a),r.default.config.productionTip=!1,new r.default({el:"#app",store:m.a,router:s.a,template:"<App/>",components:{App:o.a}})},function(e,t,a){"use strict";var r=a(34),i=(a.n(r),{state:{dsdeviceCode:"123132132",arr:[1,1,1,1,2,1,2,1,1,2,1,2,1],dics:"",user:"",orgn:"",dicorgn:"",staff:""},mutations:{},actions:{}});t.a=i},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,,,,function(e,t,a){function r(e){a(236)}var i=a(1)(a(140),a(275),r,null,null);e.exports=i.exports},function(e,t,a){function r(e){a(229)}var i=a(1)(a(141),a(268),r,null,null);e.exports=i.exports},function(e,t,a){function r(e){a(222)}var i=a(1)(a(142),a(261),r,null,null);e.exports=i.exports},function(e,t,a){function r(e){a(233)}var i=a(1)(a(143),a(272),r,null,null);e.exports=i.exports},function(e,t,a){function r(e){a(231)}var i=a(1)(a(144),a(270),r,null,null);e.exports=i.exports},function(e,t,a){function r(e){a(227)}var i=a(1)(a(145),a(266),r,null,null);e.exports=i.exports},function(e,t,a){function r(e){a(223)}var i=a(1)(a(146),a(262),r,null,null);e.exports=i.exports},function(e,t,a){function r(e){a(228)}var i=a(1)(a(147),a(267),r,null,null);e.exports=i.exports},function(e,t,a){function r(e){a(226)}var i=a(1)(a(148),a(265),r,null,null);e.exports=i.exports},function(e,t,a){function r(e){a(237)}var i=a(1)(a(149),a(276),r,null,null);e.exports=i.exports},function(e,t,a){function r(e){a(232)}var i=a(1)(a(150),a(271),r,null,null);e.exports=i.exports},function(e,t,a){function r(e){a(224)}var i=a(1)(a(151),a(263),r,null,null);e.exports=i.exports},function(e,t,a){function r(e){a(234)}var i=a(1)(a(152),a(273),r,null,null);e.exports=i.exports},function(e,t,a){function r(e){a(221)}var i=a(1)(a(153),a(260),r,null,null);e.exports=i.exports},function(e,t,a){function r(e){a(230)}var i=a(1)(a(154),a(269),r,null,null);e.exports=i.exports},function(e,t,a){function r(e){a(225)}var i=a(1)(a(155),a(264),r,null,null);e.exports=i.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{height:"100%",display:"flex","flex-direction":"column"},attrs:{id:"index"}},[a("el-row",{staticClass:"container",staticStyle:{"min-height":"70px",height:"10%",background:"#f9f9f9",flex:"1"}},[a("el-col",{staticClass:"main",staticStyle:{height:"100%"},attrs:{span:24}},[a("v-header",{attrs:{user:e.user}})],1)],1),e._v(" "),a("el-row",{staticClass:"container",staticStyle:{"min-height":"500px",height:"90%",flex:"9"}},[a("el-col",{staticClass:"main",staticStyle:{height:"100%",overflow:"auto",background:"#006086"},attrs:{span:4}},[a("v-menu")],1),e._v(" "),a("el-col",{staticStyle:{height:"100%",overflow:"auto",padding:"10px"},attrs:{span:20}},[a("router-view")],1)],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticStyle:{width:"800px",height:"150px",border:"1px solid #D0D0D0"}},[a("br"),e._v(" "),a("p",[e._v("操作指南：")]),a("br"),e._v(" "),a("p",[e._v("1、请将与工单对应防篡改设备编号对应的设备开机上网，设备会自动操作。")]),a("br"),e._v(" "),a("p",[e._v("2、等待大约1分钟，【状态】变为“绑定出库”表示完成操作。")]),a("br"),e._v(" "),a("p",[e._v("3、可以通过点击【验证】按钮，观察设备是否会【红灯闪烁并持续5秒】表示已经绑定验证成功")])]),e._v(" "),a("br"),e._v(" "),a("el-form",{staticClass:"demo-form-inline",staticStyle:{height:"100px",background:"#ffffff","margin-bottom":"15px","box-shadow":"0px 0px 18px #d6d6d6"},attrs:{inline:!0,model:e.params}},[a("div",{staticStyle:{padding:"30px 0 0 50px"}},[a("el-form-item",{attrs:{label:"单位名称"}},[a("el-input",{attrs:{placeholder:""},model:{value:e.params.orgnizationName,callback:function(t){e.$set(e.params,"orgnizationName",t)},expression:"params.orgnizationName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"巡检员"}},[a("el-input",{attrs:{placeholder:""},model:{value:e.params.inspectorName,callback:function(t){e.$set(e.params,"inspectorName",t)},expression:"params.inspectorName"}})],1),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchWorkOrder}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.reset}},[e._v("重置")])],1)]),e._v(" "),a("div",{staticStyle:{background:"#ffffff","box-shadow":"0px 0px 18px #d8d8d8",padding:"30px"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{prop:"workDate",label:"出工日期",formatter:e.dateFormat,width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"inspectionOrderNo",label:"报检单号",width:"140"}}),e._v(" "),a("el-table-column",{attrs:{prop:"orgnizationName",label:"单位名称",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"inspectorName",label:"巡检员",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"instrumentModel",label:"仪表型号",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"instrumentCode",label:"仪表编号",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"dsdeviceCode",label:"防篡改设备编号",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"dsdeviceSerialNo",label:"设备串号",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"lineName",label:"巡检线路名",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"direction",label:"方向标识",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"inspectionPointName",label:"巡检点名称",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"orderStatus",label:"状态",formatter:e.orderFormat,width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){e.verifydevice(t.$index,t.row)}}},[e._v("验证")])]}}])})],1),e._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.params.pageNum,"page-sizes":[10,30,50,100],"page-size":e.params.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.sizeChange,"current-change":e.currentChange}})],1)],1)],1)],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticStyle:{width:"800px",border:"1px solid #D0D0D0",padding:"20px",margin:"auto"}},[a("br"),e._v(" "),a("el-form",{staticClass:"demo-form-inline",staticStyle:{"margin-bottom":"20px"},attrs:{inline:!0,model:e.params}},[a("el-card",{staticClass:"box-card",staticStyle:{width:"500px",margin:"auto"}},[a("div",{staticClass:"clearfix",staticStyle:{display:"flex","justify-content":"space-around"},attrs:{slot:"header"},slot:"header"},[a("span",[e._v("当前固件信息")])]),e._v(" "),a("table",{attrs:{id:"firmwareTb"}},e._l(e.tableData,function(t,r){return a("tr",{key:r},["firmwareVersion"==r?a("td",{staticStyle:{border:"1px solid black"}},[e._v("版本")]):e._e(),e._v(" "),"firmwareSize"==r?a("td",{staticStyle:{border:"1px solid black"}},[e._v("包大小")]):e._e(),e._v(" "),"firmwareMd5"==r?a("td",{staticStyle:{border:"1px solid black"}},[e._v("MD5")]):e._e(),e._v(" "),"firmwareVersion"==r?a("td",{staticStyle:{border:"1px solid black"}},[e._v(e._s(t))]):e._e(),e._v(" "),"firmwareSize"==r?a("td",{staticStyle:{border:"1px solid black"}},[e._v(e._s(t))]):e._e(),e._v(" "),"firmwareMd5"==r?a("td",{staticStyle:{border:"1px solid black"}},[e._v(e._s(t))]):e._e()])}))])],1),e._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{width:"500px",margin:"auto"}},[a("div",{staticClass:"clearfix",staticStyle:{display:"flex","justify-content":"space-around"},attrs:{slot:"header"},slot:"header"},[a("span",[e._v("新固件信息")])]),e._v(" "),a("table",{attrs:{id:"addfirmwareTb"}},[a("tr",[a("td",[e._v("版本")]),e._v(" "),a("td",[a("el-input",{staticStyle:{width:"220px"},model:{value:e.addfirmwareTbData.firmwareVersion,callback:function(t){e.$set(e.addfirmwareTbData,"firmwareVersion",t)},expression:"addfirmwareTbData.firmwareVersion"}})],1)]),e._v(" "),a("tr",[a("td",[e._v("包大小")]),e._v(" "),a("td",[a("el-input",{staticStyle:{width:"220px"},attrs:{disabled:""},model:{value:e.addfirmwareTbData.firmwareSize,callback:function(t){e.$set(e.addfirmwareTbData,"firmwareSize",t)},expression:"addfirmwareTbData.firmwareSize"}})],1)]),e._v(" "),a("tr",[a("td",[e._v("MD5")]),e._v(" "),a("td",[a("el-input",{staticStyle:{width:"220px"},attrs:{disabled:""},model:{value:e.addfirmwareTbData.firmwareMd5,callback:function(t){e.$set(e.addfirmwareTbData,"firmwareMd5",t)},expression:"addfirmwareTbData.firmwareMd5"}})],1)]),e._v(" "),a("tr",{staticStyle:{height:"80px"}},[a("td",[e._v("新固件包")]),e._v(" "),a("td",{staticStyle:{display:"flex","justify-content":"space-between",width:"220px"}},[a("el-upload",{ref:"upload",staticClass:"ensure ensureButt",attrs:{action:e.importFileUrl,multiple:e.multiple,limit:e.limit,"on-remove":e.uploadremoved,"on-change":e.addfirmwareTbcg,"on-exceed":e.uploadExceed,name:"formData","on-error":e.uploadError,"on-success":e.uploadSuccess,"before-upload":e.beforeAvatarUpload,"auto-upload":!1}},[a("el-button",{staticStyle:{height:"30px"},attrs:{multiple:"false",size:"small",type:"primary"}},[e._v("选取文件")])],1),e._v(" "),a("el-button",{staticStyle:{"margin-left":"10px",height:"30px"},attrs:{size:"small",type:"success"},on:{click:e.submitUpload}},[e._v("上传文件")])],1)])])]),e._v(" "),a("el-dialog",{attrs:{title:"提示",visible:e.dialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("span",[e._v("是否上传新固件信息")]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.dialogVisiblec}},[e._v("确 定")])],1)])],1),e._v(" "),a("br")])],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{height:"100%"}},[a("header",{staticStyle:{"box-shadow":"#d8d8d8 3px 3px 5px 1px"}},[a("img",{staticClass:"header-img",attrs:{src:"static/img/logo.png"}}),e._v(" "),a("ul",{staticClass:"header-operations",staticStyle:{display:"flex","align-items":"center"}},[a("li",[a("span",{staticStyle:{color:"#025e85"}},[e._v("当前用户:"+e._s(e.user.name))])]),e._v(" "),a("li",[a("el-button",{attrs:{type:"text"},on:{click:function(t){e.revpassword=!0}}},[e._v("修改密码")])],1),e._v(" "),a("li",[a("img",{staticStyle:{width:"30px",height:"30px"},attrs:{src:"static/img/exit.png"},on:{click:e.clearUser}})])]),e._v(" "),a("el-dialog",{staticStyle:{"z-index":"10000"},attrs:{"append-to-body":"true",title:"修改密码",visible:e.revpassword,width:"30%"},on:{close:e.clearData,"update:visible":function(t){e.revpassword=t}}},[a("ul",{staticClass:"revpassword",staticStyle:{width:"80%",margin:"auto"}},[a("li",[a("label",[e._v("原密码：")]),a("el-input",{attrs:{placeholder:""},on:{change:e.passwordyz1},model:{value:e.oldpassword,callback:function(t){e.oldpassword=t},expression:"oldpassword"}})],1),e._v(" "),a("li",[a("label",[e._v("新密码：")]),a("el-input",{attrs:{placeholder:""},on:{change:e.passwordyz2},model:{value:e.newpassword,callback:function(t){e.newpassword=t},expression:"newpassword"}})],1),e._v(" "),a("li",[a("label",[e._v("确认密码：")]),a("el-input",{attrs:{placeholder:""},on:{change:e.passwordyz3},model:{value:e.newtwopassword,callback:function(t){e.newtwopassword=t},expression:"newtwopassword"}})],1)]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.revpasswordClose}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.revpasswordConfirm}},[e._v("确 定")])],1)])],1)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{height:"100%"},attrs:{id:"menu"}},[a("div",{ref:"menu_test",staticClass:"demo-block",staticStyle:{height:"100%"}},[a("div",{staticClass:"el-row tac",staticStyle:{overflow:"auto",color:"#fff",height:"100%",margin:"0"}},[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":e.$router.path,router:""},on:{open:e.handleOpen,close:e.handleClose}},[a("el-menu-item",{attrs:{index:"/home"}},[e._v("主页")]),e._v(" "),a("el-submenu",{attrs:{index:"1"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-message"}),e._v("任务管理")]),e._v(" "),a("el-menu-item-group",[e._l(e.taskmanager_item,function(t,r){return t.hidden?[a("el-menu-item",{attrs:{index:t.path}},[a("i",{staticClass:"fa"}),e._v(e._s(t.title))])]:e._e()})],2)],2),e._v(" "),a("el-submenu",{attrs:{index:"2"},on:{open:e.handleOpen}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-menu"}),e._v("运维设备")]),e._v(" "),a("el-menu-item-group",[e._l(e.equipment_item,function(t,r){return t.hidden?[a("el-menu-item",{attrs:{index:t.path}},[a("i",{staticClass:"fa",class:t.class}),e._v(e._s(t.title))])]:e._e()})],2)],2),e._v(" "),"ROLE-STAFF-03"!=e.user.role?a("el-submenu",{attrs:{index:"3"},on:{open:e.handleOpen}},[a("template",{attrs:{disabled:e.basedatamanager_item.count<=0},slot:"title"},[a("i",{staticClass:"el-icon-setting"}),e._v("基础数据管理")]),e._v(" "),a("el-menu-item-group",[e._l(e.basedatamanager_item,function(t,r){return t.hidden?[a("el-menu-item",{attrs:{index:t.path}},[a("i",{staticClass:"fa",class:t.class}),e._v(e._s(t.title))])]:e._e()})],2)],2):e._e()],1)],1)])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form",{staticClass:"demo-form-inline",staticStyle:{height:"90px",background:"#ffffff","margin-bottom":"15px","box-shadow":"0px 0px 18px #d6d6d6"},attrs:{inline:!0,model:e.params}},[a("div",{staticStyle:{padding:"25px 0 0 50px"}},[a("el-form-item",{attrs:{label:"设备名称"}},[a("el-input",{attrs:{placeholder:""},model:{value:e.params.dsdeviceName,callback:function(t){e.$set(e.params,"dsdeviceName",t)},expression:"params.dsdeviceName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"单位名称"}},[a("el-input",{attrs:{placeholder:""},model:{value:e.params.orgnizationName,callback:function(t){e.$set(e.params,"orgnizationName",t)},expression:"params.orgnizationName"}})],1),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchDevice}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.reset}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.addDevice}},[e._v("新增设备")])],1)]),e._v(" "),a("div",{staticStyle:{background:"#ffffff","box-shadow":"0px 0px 18px #d8d8d8",padding:"30px 0px"},attrs:{id:"shieldmgr_div"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{disabled:"N/A"!=t.row.dsdeviceSerialNo,type:"primary",size:"small"},on:{click:function(a){e.devicecomm(t.$index,t.row)}}},[e._v("配对")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"deviceTypeCode",label:"设备类型",formatter:e.devtypeFormat,width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"dsdeviceName",label:"设备名称",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"dsdeviceModel",label:"设备型号",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"dsdeviceSerialNo",label:"设备串号",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"dsdeviceCode",label:"资产编号",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"orgnizationName",label:"单位名称",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"deviceStatusCode",formatter:e.devstatusFormat,label:"设备状态",width:"130"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){e.editShield(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){e.delShield(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.params.pageNum,"page-sizes":[10,30,50,100],"page-size":e.params.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.sizeChange,"current-change":e.currentChange}})],1)],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"edit"==e.dialogType?"修改设备":"新增设备",size:"tiny"},on:{close:e.cancelDevice},model:{value:e.dialogFormVisible,callback:function(t){e.dialogFormVisible=t},expression:"dialogFormVisible"}},[a("user-form",{ref:"deviceForm",attrs:{"dialog-type":e.dialogType}}),e._v(" "),a("el-form",{ref:"deviceForm",attrs:{model:e.deviceForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"设备类型"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:"true",placeholder:"请选择"},model:{value:e.deviceForm.deviceTypeCode,callback:function(t){e.$set(e.deviceForm,"deviceTypeCode",t)},expression:"deviceForm.deviceTypeCode"}},e._l(e.dics["3*设备类型"],function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"设备名称"}},[a("el-input",{model:{value:e.deviceForm.dsdeviceName,callback:function(t){e.$set(e.deviceForm,"dsdeviceName",t)},expression:"deviceForm.dsdeviceName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"设备型号"}},[a("el-input",{model:{value:e.deviceForm.dsdeviceModel,callback:function(t){e.$set(e.deviceForm,"dsdeviceModel",t)},expression:"deviceForm.dsdeviceModel"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"设备串号"}},[a("el-input",{attrs:{disabled:"true",placeholder:"新设备为【N/A】"},model:{value:e.deviceForm.dsdeviceSerialNo,callback:function(t){e.$set(e.deviceForm,"dsdeviceSerialNo",t)},expression:"deviceForm.dsdeviceSerialNo"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"资产编号"}},[a("el-input",{attrs:{clearable:"true"},on:{change:e.dsdeviceCodeyz},model:{value:e.deviceForm.dsdeviceCode,callback:function(t){e.$set(e.deviceForm,"dsdeviceCode",t)},expression:"deviceForm.dsdeviceCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所属单位"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.deviceForm.organizationCode,callback:function(t){e.$set(e.deviceForm,"organizationCode",t)},expression:"deviceForm.organizationCode"}},e._l(e.orgn,function(e,t){return a("el-option",{key:t,attrs:{label:e.orgnizationName,value:e.orgnizationCode}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"设备状态"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.deviceForm.deviceStatusCode,callback:function(t){e.$set(e.deviceForm,"deviceStatusCode",t)},expression:"deviceForm.deviceStatusCode"}},e._l(e.dics["4*设备状态"],function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1),e._v(" "),a("el-form-item",[a("el-button",{on:{click:e.saveDevice}},[e._v("保 存")]),e._v(" "),a("el-button",{on:{click:e.cancelDevice}},[e._v("取 消")])],1)],1)],1),e._v(" "),a("el-dialog",{staticStyle:{height:"700px",width:"1500px"},attrs:{title:"防篡改设备配对"},model:{value:e.dialogFormVisiblex,callback:function(t){e.dialogFormVisiblex=t},expression:"dialogFormVisiblex"}},[a("div",[a("h2",[e._v("操作指南：")]),e._v(" "),a("ul",[a("li",[e._v("1、将新设备开机，确保网络正常。")]),e._v(" "),a("li",[e._v("2、确认该设备状态：没有配对注册(红灯每2秒闪烁)")]),e._v(" "),a("li",[e._v("3、在下表中选取新出现的设备编号，点击【发送配对码】按钮。")]),e._v(" "),a("li",[e._v("3.1、观察设备，红灯常亮5秒后绿灯常亮：配对成功。该设备编码自动填写到管理页面。")]),e._v(" "),a("li",[e._v("3.2、观察设备，如果没有反应说明该设备没有上网或者是应对应列表中的其他编号。请重新选择配对。")])]),e._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"30px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("新设备串号：")]),e._v(" "),a("el-button",{staticStyle:{float:"right",padding:"5px 5px",margin:"0 20px"},attrs:{type:"primary"},on:{click:function(t){e.devicecommex()}}},[e._v("发送配对码")]),e._v(" "),a("el-button",{staticStyle:{float:"right",padding:"5px 5px"},attrs:{type:"danger"}},[e._v("关闭")])],1),e._v(" "),e._l(e.newArr,function(t,r){return a("div",{key:t,ref:"o",refInFor:!0,staticStyle:{width:"100%",cursor:"pointer"},on:{click:function(a){e.radioss(t,r)}}},[e._v("\n         "+e._s(t)+"\n      ")])})],2)],1)])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticStyle:{width:"800px",height:"120px",border:"1px solid #D0D0D0"}},[a("br"),e._v(" "),a("p",[e._v("操作指南：")]),a("br"),e._v(" "),a("p",[e._v("1、请确认与工单对应防篡改设备编号已经回库，并保持开机上网。")]),a("br"),e._v(" "),a("p",[e._v("【解绑】点击后设备会自动操作。等待“状态”变为“解绑入库”完成操作！")])]),e._v(" "),a("br"),e._v(" "),a("el-form",{staticClass:"demo-form-inline",staticStyle:{height:"100px",background:"#ffffff","margin-bottom":"15px","box-shadow":"0px 0px 18px #d6d6d6"},attrs:{inline:!0,model:e.params}},[a("div",{staticStyle:{padding:"30px 0 0 50px"}},[a("el-form-item",{attrs:{label:"单位名称"}},[a("el-input",{attrs:{placeholder:""},model:{value:e.params.orgnizationName,callback:function(t){e.$set(e.params,"orgnizationName",t)},expression:"params.orgnizationName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"巡检员"}},[a("el-input",{attrs:{placeholder:""},model:{value:e.params.inspectorName,callback:function(t){e.$set(e.params,"inspectorName",t)},expression:"params.inspectorName"}})],1),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchWorkOrder}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.reset}},[e._v("重置")])],1)]),e._v(" "),a("div",{staticStyle:{background:"#ffffff","box-shadow":"0px 0px 18px #d8d8d8",padding:"30px"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{prop:"workDate",label:"出工日期",formatter:e.dateFormat,width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"inspectionOrderNo",label:"报检单号",width:"140"}}),e._v(" "),a("el-table-column",{attrs:{prop:"orgnizationName",label:"单位名称",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"inspectorName",label:"巡检员",width:"110"}}),e._v(" "),a("el-table-column",{attrs:{prop:"instrumentModel",label:"仪表型号",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"instrumentCode",label:"仪表编号",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"dsdeviceCode",label:"防篡改设备编号",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"dsdeviceSerialNo",label:"设备串号",width:"130"}}),e._v(" "),a("el-table-column",{attrs:{prop:"orderStatus",label:"状态",formatter:e.orderFormat,width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){e.unverifydevice(t.$index,t.row)}}},[e._v("解绑")])]}}])})],1),e._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.params.pageNum,"page-sizes":[10,30,50,100],"page-size":e.params.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.sizeChange,"current-change":e.currentChange}})],1)],1)],1)],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form",{staticClass:"demo-form-inline",staticStyle:{height:"90px",background:"#ffffff","margin-bottom":"15px","box-shadow":"0px 0px 18px #d6d6d6"},attrs:{inline:!0,model:e.params}},[a("div",{staticStyle:{padding:"30px 0 0 50px"}},[a("el-form-item",{attrs:{label:"单位名称"}},[a("el-input",{attrs:{placeholder:"单位名称"},model:{value:e.params.orgnizationName,callback:function(t){e.$set(e.params,"orgnizationName",t)},expression:"params.orgnizationName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"单位类型"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.params.orgnizationDegree,callback:function(t){e.$set(e.params,"orgnizationDegree",t)},expression:"params.orgnizationDegree"}},[a("el-option",{key:"",attrs:{label:"全部",value:""}}),e._v(" "),a("el-option",{key:"S-01",attrs:{label:"本院",value:"S-01"}}),e._v(" "),a("el-option",{key:"S-02",attrs:{label:"外委公司",value:"S-02"}}),e._v(" "),a("el-option",{key:"S-03",attrs:{label:"科室/班组",value:"S-03"}})],1)],1),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchOrg}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.reset}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.addOrg}},[e._v("新单位")])],1)]),e._v(" "),a("div",{staticStyle:{background:"#ffffff","box-shadow":"0px 0px 18px #d8d8d8",padding:"30px"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[e.show?a("el-table-column",{attrs:{prop:"orgnizationCode",label:"单位编码",sortable:"",width:"150"}}):e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"orgnizationName",label:"单位名称",sortable:"",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"orgnizationDirector",label:"单位主管",sortable:"",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"orgnizationDegree",label:"单位级别",sortable:"",formatter:e.jbFormat,width:"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){e.editOrg(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),"ROLE-OP-02"!=e.currole?a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){e.delOrg(t.$index,t.row)}}},[e._v("删除")]):e._e()]}}])})],1),e._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.params.pageNum,"page-sizes":[10,30,50,100],"page-size":e.params.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.sizeChange,"current-change":e.currentChange}})],1)],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.dialogTitle,size:"tiny"},model:{value:e.dialogFormVisible,callback:function(t){e.dialogFormVisible=t},expression:"dialogFormVisible"}},[a("user-form",{ref:"orgForm",attrs:{"dialog-type":e.dialogType},on:{close:e.cancelOrg}}),e._v(" "),a("el-form",{ref:"orgForm",attrs:{model:e.orgForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"单位名称"}},[a("el-input",{model:{value:e.orgForm.orgnizationName,callback:function(t){e.$set(e.orgForm,"orgnizationName",t)},expression:"orgForm.orgnizationName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"单位主管"}},[a("el-input",{model:{value:e.orgForm.orgnizationDirector,callback:function(t){e.$set(e.orgForm,"orgnizationDirector",t)},expression:"orgForm.orgnizationDirector"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"单位级别"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{"value-key":"S-01"},model:{value:e.orgForm.orgnizationDegree,callback:function(t){e.$set(e.orgForm,"orgnizationDegree",t)},expression:"orgForm.orgnizationDegree"}},[a("el-option",{key:"S-01",attrs:{label:"本院",value:"S-01"}}),e._v(" "),a("el-option",{key:"S-02",attrs:{label:"外委公司",value:"S-02"}}),e._v(" "),a("el-option",{key:"S-03",attrs:{label:"科室/班组",value:"S-03"}})],1)],1),e._v(" "),a("el-form-item",[a("el-button",{on:{click:e.saveOrg}},[e._v("保 存")]),e._v(" "),a("el-button",{on:{click:e.cancelOrg}},[e._v("取 消")])],1)],1)],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{attrs:{id:"device_div"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form",{staticClass:"demo-form-inline",staticStyle:{height:"90px",background:"#ffffff","margin-bottom":"15px","box-shadow":"0px 0px 18px #d6d6d6"},attrs:{inline:!0,model:e.params}},[a("div",{staticStyle:{padding:"25px 0 0 0px"}},[a("el-form-item",{attrs:{label:"仪表名称"}},[a("el-input",{attrs:{placeholder:"仪表名称"},model:{value:e.params.instrumentName,callback:function(t){e.$set(e.params,"instrumentName",t)},expression:"params.instrumentName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"仪表类型"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.params.deviceTypeCode,callback:function(t){e.$set(e.params,"deviceTypeCode",t)},expression:"params.deviceTypeCode"}},e._l(e.sblxs,function(e){return a("el-option",{key:e.dicValueCode,attrs:{label:e.dicValueName,value:e.dicValueCode}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"所属单位"}},[a("el-input",{attrs:{placeholder:"所属单位"},model:{value:e.params.orgnizationName,callback:function(t){e.$set(e.params,"orgnizationName",t)},expression:"params.orgnizationName"}})],1),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchDevice}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.reset}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.addDevice}},[e._v("添加新仪表")])],1)]),e._v(" "),a("div",{staticStyle:{background:"#ffffff","box-shadow":"0px 0px 18px #d8d8d8",padding:"30px 0px"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{prop:"instrumentName",label:"仪表名称",sortable:"",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"deviceTypeCode",label:"仪表类型",sortable:"",formatter:e.yblxFormat,width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"instrumentModel",label:"仪表型号",sortable:"",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"instrumentCode",label:"资产编号",sortable:"",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"organizationCode",label:"所属单位",sortable:"",formatter:e.dwFormat,width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"deviceStatusCode",label:"设备状态",formatter:e.sbztFormat,sortable:"",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){e.editDevice(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){e.delDevice(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.params.pageNum,"page-sizes":[10,30,50,100],"page-size":e.params.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.sizeChange,"current-change":e.currentChange}})],1)],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.dialogTitle,size:"tiny"},model:{value:e.dialogFormVisible,callback:function(t){e.dialogFormVisible=t},expression:"dialogFormVisible"}},[a("device-form",{ref:"deviceForm",attrs:{"dialog-type":e.dialogType},on:{close:e.cancelDevice}}),e._v(" "),a("el-form",{ref:"deviceForm",attrs:{model:e.deviceForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"仪表名称"}},[a("el-input",{model:{value:e.deviceForm.instrumentName,callback:function(t){e.$set(e.deviceForm,"instrumentName",t)},expression:"deviceForm.instrumentName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"仪表类型"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.deviceForm.deviceTypeCode,callback:function(t){e.$set(e.deviceForm,"deviceTypeCode",t)},expression:"deviceForm.deviceTypeCode"}},e._l(e.sblxs_mod,function(e){return a("el-option",{key:e.dicValueCode,attrs:{label:e.dicValueName,value:e.dicValueCode}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"仪表型号"}},[a("el-input",{model:{value:e.deviceForm.instrumentModel,callback:function(t){e.$set(e.deviceForm,"instrumentModel",t)},expression:"deviceForm.instrumentModel"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"资产编号"}},[a("el-input",{on:{change:e.check},model:{value:e.deviceForm.instrumentCode,callback:function(t){e.$set(e.deviceForm,"instrumentCode",t)},expression:"deviceForm.instrumentCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所属单位"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.deviceForm.organizationCode,callback:function(t){e.$set(e.deviceForm,"organizationCode",t)},expression:"deviceForm.organizationCode"}},e._l(e.options,function(e){return a("el-option",{key:e.orgnizationCode,attrs:{label:e.orgnizationName,value:e.orgnizationCode}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"设备状态"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.deviceForm.deviceStatusCode,callback:function(t){e.$set(e.deviceForm,"deviceStatusCode",t)},expression:"deviceForm.deviceStatusCode"}},e._l(e.sbzts,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",[a("el-button",{on:{click:e.saveDevice}},[e._v("保 存")]),e._v(" "),a("el-button",{on:{click:e.cancelDevice}},[e._v("取 消")])],1)],1)],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"login"}},[a("div",{attrs:{id:"loginbox"}},[a("img",{staticStyle:{"margin-top":"60px",display:"block",margin:"80px auto 20px auto",width:"80px",height:"80px"},attrs:{src:e.imgurl}}),e._v(" "),a("h2",{staticStyle:{color:"#015083","font-size":"20px",margin:"auto","margin-bottom":"30px","text-align":"center","font-weight":"bold"}},[e._v(e._s(e.name))]),e._v(" "),a("ul",[a("li",{staticStyle:{background:"#fbfbfb",display:"flex","justify-content":"space-around","border-bottom":"1px solid #e4e4e4",width:"250px",padding:"5px",margin:"0 auto 30px auto"}},[a("img",{staticStyle:{width:"26px",height:"26px"},attrs:{src:e.user}}),a("input",{ref:"user",staticStyle:{border:"none",outline:"0px",width:"250px",background:"#fbfbfb","margin-left":"2px"},attrs:{value:"",type:"text",id:"user",name:""},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.searchEnterFun(t):null}}})]),e._v(" "),a("li",{staticStyle:{background:"#fbfbfb",display:"flex","justify-content":"space-around",margin:"0 auto 30px auto","border-bottom":"1px solid #e4e4e4",width:"250px",padding:"5px"}},[a("img",{staticStyle:{width:"26px",height:"26px"},attrs:{src:e.pass}}),a("input",{ref:"password",staticStyle:{border:"none",width:"250px",background:"#fbfbfb",outline:"0px","margin-left":"2px"},attrs:{value:"",type:"password",id:"password",name:""},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.searchEnterFun(t):null}}})]),e._v(" "),a("li",{staticStyle:{display:"flex","justify-content":"space-around"}},[a("el-button",{staticStyle:{width:"250px",margin:"auto",height:"30px",outline:"0px",border:"none",color:"#fffffc","font-weight":"bold"},attrs:{id:"imgbtn",type:"primary"},on:{click:e.login}},[e._v("登 录")])],1)])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.params}},[a("el-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.addDeviceType}},[e._v("添加新类型")])],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[e.show?a("el-table-column",{attrs:{prop:"dicCode",label:"字典编码",sortable:"",width:"150"}}):e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"dicValueName",label:"设备类型",sortable:"",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"dicValueCode",label:"设备编码",sortable:"",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"dicValueComment",label:"设备说明",sortable:"",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){e.editDeviceType(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){e.delDeviceType(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.params.pageNum,"page-sizes":[10,30,50,100],"page-size":e.params.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.sizeChange,"current-change":e.currentChange}})],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.dialogTitle,size:"tiny"},model:{value:e.dialogFormVisible,callback:function(t){e.dialogFormVisible=t},expression:"dialogFormVisible"}},[a("user-form",{ref:"deviceTypeForm",attrs:{"dialog-type":e.dialogType},on:{close:e.cancelDeviceType}}),e._v(" "),a("el-form",{ref:"deviceTypeForm",attrs:{model:e.deviceTypeForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"设备类型"}},[a("el-input",{model:{value:e.deviceTypeForm.dicValueName,callback:function(t){e.$set(e.deviceTypeForm,"dicValueName",t)},expression:"deviceTypeForm.dicValueName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"设备编码"}},[a("el-input",{attrs:{readonly:e.deviceTypeForm.read_only},model:{value:e.deviceTypeForm.dicValueCode,callback:function(t){e.$set(e.deviceTypeForm,"dicValueCode",t)},expression:"deviceTypeForm.dicValueCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"设备说明"}},[a("el-input",{model:{value:e.deviceTypeForm.dicValueComment,callback:function(t){e.$set(e.deviceTypeForm,"dicValueComment",t)},expression:"deviceTypeForm.dicValueComment"}})],1),e._v(" "),a("el-form-item",[a("el-button",{on:{click:e.saveDeviceType}},[e._v("保 存")]),e._v(" "),a("el-button",{on:{click:e.cancelDeviceType}},[e._v("取 消")])],1)],1)],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form",{staticClass:"demo-form-inline",staticStyle:{height:"100px",background:"#ffffff","margin-bottom":"15px","box-shadow":"0px 0px 18px #d6d6d6"},attrs:{inline:!0,model:e.params}},[a("div",{staticStyle:{padding:"30px 0 0 50px"}},[a("el-form-item",{attrs:{label:"单位名称"}},[a("el-input",{attrs:{placeholder:""},model:{value:e.params.orgnizationName,callback:function(t){e.$set(e.params,"orgnizationName",t)},expression:"params.orgnizationName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"巡检员"}},[a("el-input",{attrs:{placeholder:""},model:{value:e.params.inspectorName,callback:function(t){e.$set(e.params,"inspectorName",t)},expression:"params.inspectorName"}})],1),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchWorkOrder}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.reset}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.addWorkOrder}},[e._v("新增工单")])],1)]),e._v(" "),a("div",{staticStyle:{background:"#ffffff","box-shadow":"0px 0px 18px #d8d8d8",padding:"30px 0"},attrs:{id:"workOrder_div"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{label:"选择",width:"70"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{disabled:"T-NEW-01"!=t.row.orderStatus,type:"primary",size:"small"},on:{click:function(a){e.signWorkOrder(t.$index,t.row)}}},[e._v("签发")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"workDate",label:"出工日期",formatter:e.dateFormat,width:"110"}}),e._v(" "),a("el-table-column",{attrs:{prop:"inspectionOrderNo",label:"报检单号",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"orderStatus",label:"工单状态",formatter:e.orderFormat,width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"orgnizationName",label:"单位名称",width:"100"}}),e._v(" "),e.show?a("el-table-column",{attrs:{prop:"orgnizationCode",label:"单位编码",width:"0"}}):e._e(),e._v(" "),e.show?a("el-table-column",{attrs:{prop:"inspectorCode",label:"巡检员",width:"0"}}):e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"inspectorName",label:"巡检员",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"instrumentCode",label:"仪表编号",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"instrumentModel",label:"仪表型号",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"dsdeviceCode",label:"防篡改设备编号",width:"140"}}),e._v(" "),a("el-table-column",{attrs:{prop:"dsdeviceSerialNo",label:"设备串号",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"lineName",label:"巡检线路名",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"direction",label:"方向标识",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"inspectionPointName",label:"巡检点名称",width:"110"}}),e._v(" "),e.show?a("el-table-column",{attrs:{prop:"orderCode",label:"工单编码",width:"0"}}):e._e(),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"140","header-align":"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{disabled:"T-NEW-01"!=t.row.orderStatus,type:"primary",size:"small"},on:{click:function(a){e.editWorkOrder(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),"ROLE-STAFF-03"!=e.currole?a("el-button",{attrs:{disabled:"T-SIGHED-02"==t.row.orderStatus||"T-OUT-03"==t.row.orderStatus||"T-DAT-04"==t.row.orderStatus,type:"danger",size:"small"},on:{click:function(a){e.deleteWorkOrder(t.$index,t.row)}}},[e._v("删除")]):e._e()]}}])})],1),e._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.params.pageNum,"page-sizes":[10,30,50,100],"page-size":e.params.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.sizeChange,"current-change":e.currentChange}})],1)],1)],1)],1),e._v(" "),a("el-dialog",{staticStyle:{height:"700px",width:"1500px"},attrs:{title:"edit"==e.dialogType?"修改工单":"新增工单"},on:{close:e.cancelWorkOrder},model:{value:e.dialogFormVisible,callback:function(t){e.dialogFormVisible=t},expression:"dialogFormVisible"}},[a("user-form",{ref:"WorkOrderForm",attrs:{"dialog-type":e.dialogType}}),e._v(" "),a("el-form",{ref:"WorkOrderForm",staticStyle:{display:"flex","flex-wrap":"wrap","justify-content":"space-between"},attrs:{model:e.WorkOrderForm,"label-width":"120px"}},[a("div",[a("el-form-item",{attrs:{label:"出工日期"}},[a("el-date-picker",{attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"出工日期"},on:{change:e.dateChangebirthday},model:{value:e.WorkOrderForm.workDate,callback:function(t){e.$set(e.WorkOrderForm,"workDate",t)},expression:"WorkOrderForm.workDate"}})],1)],1),e._v(" "),a("div",{staticStyle:{}},[a("el-form-item",{attrs:{label:"报检单号"}},[a("el-input",{staticStyle:{width:"210px"},on:{change:e.ordernoVerfy},model:{value:e.WorkOrderForm.inspectionOrderNo,callback:function(t){e.$set(e.WorkOrderForm,"inspectionOrderNo",t)},expression:"WorkOrderForm.inspectionOrderNo"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"单位名称"}},[a("el-select",{staticStyle:{width:"210px"},attrs:{placeholder:"请选择"},on:{change:function(t){e.getOrgan(t)}},model:{value:e.WorkOrderForm.organizationCode,callback:function(t){e.$set(e.WorkOrderForm,"organizationCode",t)},expression:"WorkOrderForm.organizationCode"}},e._l(e.orgn,function(e,t){return a("el-option",{key:t,attrs:{label:e.orgnizationName,value:e.orgnizationCode}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"巡检员"}},[a("el-select",{staticStyle:{width:"210px"},attrs:{placeholder:"请先选择单位"},model:{value:e.WorkOrderForm.inspectorCode,callback:function(t){e.$set(e.WorkOrderForm,"inspectorCode",t)},expression:"WorkOrderForm.inspectorCode"}},[e._l(e.staff,function(t,r){return"edit"==e.dialogType?a("el-option",{key:r,attrs:{label:t.staffName,value:t.staffCode}}):e._e()}),e._v(" "),e._l(e.selstaff,function(t,r){return"add"==e.dialogType?a("el-option",{key:r,attrs:{label:t.staffName,value:t.staffCode}}):e._e()})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"仪表编号"}},[a("el-select",{staticStyle:{width:"210px"},attrs:{placeholder:"请选择"},model:{value:e.WorkOrderForm.instrumentCode,callback:function(t){e.$set(e.WorkOrderForm,"instrumentCode",t)},expression:"WorkOrderForm.instrumentCode"}},e._l(e.instrumentCodeList,function(t,r){return"DS-IN-01"==t.deviceStatusCode?a("el-option",{key:r,attrs:{label:t.instrumentCode,value:t.instrumentCode}}):e._e()}))],1),e._v(" "),a("el-form-item",{attrs:{label:"防篡改设备编号"}},[a("el-select",{staticStyle:{width:"210px"},attrs:{placeholder:"请选择"},model:{value:e.WorkOrderForm.dsdeviceCode,callback:function(t){e.$set(e.WorkOrderForm,"dsdeviceCode",t)},expression:"WorkOrderForm.dsdeviceCode"}},e._l(e.dsdeviceCodeList,function(t,r){return"DS-IN-01"==t.deviceStatusCode&&"N/A"!=t.dsdeviceSerialNo?a("el-option",{key:r,attrs:{label:t.dsdeviceCode,value:t.dsdeviceCode}}):e._e()}))],1),e._v(" "),a("el-form-item",{attrs:{label:"巡检线路名称"}},[a("el-input",{staticStyle:{width:"210px"},model:{value:e.WorkOrderForm.lineName,callback:function(t){e.$set(e.WorkOrderForm,"lineName",t)},expression:"WorkOrderForm.lineName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"方向标识"}},[a("el-input",{staticStyle:{width:"210px"},model:{value:e.WorkOrderForm.direction,callback:function(t){e.$set(e.WorkOrderForm,"direction",t)},expression:"WorkOrderForm.direction"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"巡检点名称"}},[a("el-input",{staticStyle:{width:"210px"},model:{value:e.WorkOrderForm.inspectionPointName,callback:function(t){e.$set(e.WorkOrderForm,"inspectionPointName",t)},expression:"WorkOrderForm.inspectionPointName"}})],1),e._v(" "),"edit"==e.dialogType?a("el-form-item",{attrs:{label:"工单编码"}},[a("el-input",{staticStyle:{width:"210px"},attrs:{disabled:"true"},model:{value:e.WorkOrderForm.orderCode,callback:function(t){e.$set(e.WorkOrderForm,"orderCode",t)},expression:"WorkOrderForm.orderCode"}})],1):e._e(),e._v(" "),a("br"),e._v(" "),a("el-form-item",{staticStyle:{"margin-right":"80px",width:"100%",display:"flex","justify-content":"space-around"}},[a("el-button",{on:{click:e.saveWorkOrder}},[e._v("保 存")]),e._v(" "),a("el-button",{on:{click:e.cancelWorkOrder}},[e._v("取 消")])],1)],1)],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticStyle:{width:"800px",height:"100px",border:"1px solid #D0D0D0"}},[a("br"),e._v(" "),a("p",[e._v("操作指南：")]),a("br"),e._v(" "),a("p",[e._v("1、请将防篡改设备开机上网，系统会自动探测在线设备。")]),a("br"),e._v(" "),a("p",[e._v("2、在【设备列表】中选中与设备铭牌上设备号对应的项，完成操作。")]),a("br")]),e._v(" "),a("br"),e._v(" "),a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.params}},[a("el-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchDeviceLog}},[e._v("刷新设备列表")])],1),e._v(" "),a("div",{staticStyle:{background:"#ffffff","box-shadow":"0px 0px 18px #d8d8d8",padding:"30px"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{prop:"dsdeviceCode",label:"防篡改设备编号",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"dsdeviceSerialNo",label:"防篡改设备串号",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"orgnizationName",label:"单位名称",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"deviceStatusCode",label:"设备状态",formatter:e.devstatusFormat,width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"logTransPortStatus",label:"传输状态",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){e.getdevicelog(t.$index,t.row)}}},[e._v("收取设备日志")])]}}])})],1),e._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.params.pageNum,"page-sizes":[10,30,50,100],"page-size":e.params.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.sizeChange,"current-change":e.currentChange}})],1)],1)],1)],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"login"}},[a("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.imgurl}})])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{height:"100%"},attrs:{id:"app"}},[a("router-view")],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form",{staticClass:"demo-form-inline",staticStyle:{height:"100px",background:"#ffffff","margin-bottom":"15px","box-shadow":"0px 0px 18px #d6d6d6"},attrs:{inline:!0,model:e.params}},[a("div",{staticStyle:{padding:"30px 0 0 50px"}},[a("el-form-item",{attrs:{label:"单位名称"}},[a("el-input",{attrs:{placeholder:""},model:{value:e.params.orgnizationName,callback:function(t){e.$set(e.params,"orgnizationName",t)},expression:"params.orgnizationName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"巡检员"}},[a("el-input",{attrs:{placeholder:""},model:{value:e.params.inspectorName,callback:function(t){e.$set(e.params,"inspectorName",t)},expression:"params.inspectorName"}})],1),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchWorkOrder}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.reset}},[e._v("重置")])],1)]),e._v(" "),a("div",{staticStyle:{background:"#ffffff","box-shadow":"0px 0px 18px #d8d8d8",padding:"30px"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{prop:"workDate",label:"出工日期",formatter:e.dateFormat,width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"inspectionOrderNo",label:"报检单号",width:"140"}}),e._v(" "),a("el-table-column",{attrs:{prop:"orgnizationName",label:"单位名称",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"inspectorName",label:"巡检员",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"instrumentModel",label:"仪表型号",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"instrumentCode",label:"仪表编号",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"dsdeviceCode",label:"防篡改设备编号",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"dsdeviceSerialNo",label:"设备串号",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"lineName",label:"巡检线路名",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"direction",label:"方向标识",width:"88"}}),e._v(" "),a("el-table-column",{attrs:{prop:"inspectionPointName",label:"巡检点名称",width:"110"}}),e._v(" "),e.show?a("el-table-column",{attrs:{prop:"orderCode",label:"工单编码",width:"0"}}):e._e(),e._v(" "),a("el-table-column",{attrs:{label:"数据备案",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{display:"inline-block"},attrs:{type:"primary",size:"small"},on:{click:function(a){e.verifydevice(t.$index,t.row)}}},[e._v("上传比对数据")]),e._v(" "),a("el-upload",{ref:t.$index,staticClass:"ensure ensureButt",staticStyle:{display:"inline-block"},attrs:{"show-file-list":"sdada",action:e.importFileUrl,"auto-upload":!1,"on-change":e.uploadchange,"show-file-list":e.multiple,"on-exceed":e.uploadExceed,name:"formData","on-remove":e.uploadremove,"on-error":e.uploadError,"on-success":e.uploadSuccess,"before-upload":e.beforeAvatarUpload},nativeOn:{click:function(a){e.uploadclick(t.$index)}}},[a("el-button",{staticStyle:{height:"30px"},attrs:{multiple:"false",size:"small",type:"primary"}},[e._v("浏览")])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"dataConsistency",label:"数据一致性",formatter:e.compareFormat,width:"90"}})],1),e._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.params.pageNum,"page-sizes":[10,30,50,100],"page-size":e.params.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.sizeChange,"current-change":e.currentChange}})],1)],1)],1)],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{attrs:{id:"user_div"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form",{staticClass:"demo-form-inline",staticStyle:{height:"90px",background:"#ffffff","margin-bottom":"15px","box-shadow":"0px 0px 18px #d6d6d6"},attrs:{inline:!0,model:e.params}},[a("div",{staticStyle:{padding:"30px 0 0 50px"}},[a("el-form-item",{attrs:{label:"员工名称"}},[a("el-input",{attrs:{placeholder:"姓名"},model:{value:e.params.staffName,callback:function(t){e.$set(e.params,"staffName",t)},expression:"params.staffName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所属单位"}},[a("el-input",{attrs:{placeholder:"所属单位"},model:{value:e.params.orgnizationName,callback:function(t){e.$set(e.params,"orgnizationName",t)},expression:"params.orgnizationName"}})],1),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchUser}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.reset}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.addUser}},[e._v("添加新员工")])],1)]),e._v(" "),a("div",{staticStyle:{background:"#ffffff","box-shadow":"0px 0px 18px #d8d8d8",padding:"30px"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[e.show?a("el-table-column",{attrs:{prop:"staffCode",label:"员工编码",sortable:"",width:"150"}}):e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"staffName",label:"员工姓名",sortable:"",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"staffNumber",label:"工号",sortable:"",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"organizationCode",label:"所属单位",sortable:"",formatter:e.dwFormat,width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"staffRole",label:"操作权限",sortable:"",formatter:e.qxFormat,width:"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){e.editUser(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),"ROLE-OP-02"!=e.currole?a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){e.delUser(t.$index,t.row)}}},[e._v("删除")]):e._e()]}}])})],1),e._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.params.pageNum,"page-sizes":[10,30,50,100],"page-size":e.params.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.sizeChange,"current-change":e.currentChange}})],1)],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.dialogTitle,size:"tiny"},model:{value:e.dialogFormVisible,callback:function(t){e.dialogFormVisible=t},expression:"dialogFormVisible"}},[a("user-form",{ref:"userForm",attrs:{"dialog-type":e.dialogType},on:{close:e.cancelUser}}),e._v(" "),a("el-form",{ref:"userForm",attrs:{model:e.userForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"员工姓名"}},[a("el-input",{model:{value:e.userForm.staffName,callback:function(t){e.$set(e.userForm,"staffName",t)},expression:"userForm.staffName"}})],1),e._v(" "),a("el-form-item",{staticStyle:{color:"#FF0000"},attrs:{label:"工号"}},[a("el-input",{attrs:{placeholder:"工号作为登录名"},model:{value:e.userForm.staffNumber,callback:function(t){e.$set(e.userForm,"staffNumber",t)},expression:"userForm.staffNumber"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所属单位"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.userForm.organizationCode,callback:function(t){e.$set(e.userForm,"organizationCode",t)},expression:"userForm.organizationCode"}},e._l(e.options,function(e){return a("el-option",{key:e.orgnizationCode,attrs:{label:e.orgnizationName,value:e.orgnizationCode}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"操作权限"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.userForm.staffRole,callback:function(t){e.$set(e.userForm,"staffRole",t)},expression:"userForm.staffRole"}},e._l(e.staffRoles,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"密码"}},[a("el-input",{model:{value:e.userForm.staffPwd,callback:function(t){e.$set(e.userForm,"staffPwd",t)},expression:"userForm.staffPwd"}})],1),e._v(" "),a("el-form-item",[a("el-button",{on:{click:e.saveUser}},[e._v("保 存")]),e._v(" "),a("el-button",{on:{click:e.cancelUser}},[e._v("取 消")])],1)],1)],1)],1)},staticRenderFns:[]}}]),[156]);
//# sourceMappingURL=app.a7cf78f92c8e62530b89.js.map